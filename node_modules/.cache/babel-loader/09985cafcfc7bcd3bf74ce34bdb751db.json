{"remainingRequest":"/Users/nmadhab/hobby/social-network-frontend/node_modules/babel-loader/lib/index.js!/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nmadhab/hobby/social-network-frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nmadhab/hobby/social-network-frontend/src/views/Login.vue","mtime":1616736749826},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7CmltcG9ydCB7IHNhdmVVc2VyIH0gZnJvbSAiQC9oZWxwZXJzIjsKaW1wb3J0IHsgQVBJX0JBU0VfVVJMIH0gZnJvbSAiLi4vY29uZmlnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICB1c2VybmFtZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL0xvZ2dlZCBpbiB1c2luZyBlbWFpbCBpZCBhbmQgcGFzc3dvcmQKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgX3RoaXMudXNlcm5hbWUgPSB1c2VyLnVzZXIuZW1haWw7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgX3RoaXMudXNlcm5hbWUpOwogICAgICAgIGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5nZXRJZFRva2VuKHRydWUpLnRoZW4oZnVuY3Rpb24gKGlkVG9rZW4pIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZFRva2VuIiwgaWRUb2tlbik7CiAgICAgICAgICB2YXIgdG9rZW4gPSAiQmVhcmVyICIgKyBpZFRva2VuOwogICAgICAgICAgdmFyIHVybCA9ICIiLmNvbmNhdChBUElfQkFTRV9VUkwsICJwcml2YXRlL3NhdmVVc2VyIik7CiAgICAgICAgICBzYXZlVXNlcih1cmwsIHRva2VuKTsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBhbGVydCgnT29wcy4gJyArIGVyci5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgc29jaWFsR2l0aHViTG9naW46IGZ1bmN0aW9uIHNvY2lhbEdpdGh1YkxvZ2luKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vTG9nZ2VkIGluIHVzaW5nIEdpdEh1YgogICAgICB2YXIgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5HaXRodWJBdXRoUHJvdmlkZXIoKTsKICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29uc29sZS5sb2coInJlc3VsdCIsIHJlc3VsdCk7CiAgICAgICAgX3RoaXMyLnVzZXJuYW1lID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmRpc3BsYXlOYW1lOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VybmFtZSIsIF90aGlzMi51c2VybmFtZSk7CiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmdldElkVG9rZW4odHJ1ZSkudGhlbihmdW5jdGlvbiAoaWRUb2tlbikgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkVG9rZW4iLCBpZFRva2VuKTsKICAgICAgICAgIHZhciB0b2tlbiA9ICJCZWFyZXIgIiArIGlkVG9rZW47CiAgICAgICAgICB2YXIgdXJsID0gIiIuY29uY2F0KEFQSV9CQVNFX1VSTCwgInByaXZhdGUvc2F2ZVVzZXIiKTsKICAgICAgICAgIHNhdmVVc2VyKHVybCwgdG9rZW4pOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBhbGVydCgnT29wcy4gJyArIGVyci5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,QAAA,MAAA,UAAA;AACA,SAAA,QAAA,QAAA,WAAA;AAEA,SAAA,YAAA,QAAA,WAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,KAAA,EAAA,iBAAA;AAAA;;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,0BAAA,CAAA,KAAA,KAAA,EAAA,KAAA,QAAA,EAAA,IAAA,CACA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,KAAA,CAAA,QAAA;AACA,QAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,UAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,OAAA;AACA,cAAA,KAAA,GAAA,YAAA,OAAA;AACA,cAAA,GAAA,aAAA,YAAA,qBAAA;AACA,UAAA,QAAA,CAAA,GAAA,EAAA,KAAA,CAAA;AACA,SALA;;AAMA,QAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA;AACA,OAXA,EAYA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,CAAA,OAAA,CAAA;AACA,OAdA;AAgBA,KAnBA;AAqBA,IAAA,iBArBA,+BAqBA;AAAA;;AACA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AAEA,MAAA,QAAA,CAAA,IAAA,GAAA,eAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,WAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,MAAA,CAAA,QAAA;AACA,QAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,UAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,SAAA,EAAA,OAAA;AACA,cAAA,KAAA,GAAA,YAAA,OAAA;AACA,cAAA,GAAA,aAAA,YAAA,qBAAA;AACA,UAAA,QAAA,CAAA,GAAA,EAAA,KAAA,CAAA;AACA,SALA;;AAMA,QAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA;AACA,OAXA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,CAAA,OAAA,CAAA;AACA,OAbA;AAcA;AAvCA;AATA,CAAA","sourcesContent":["<template>\n  <b-container>\n    <b-row>\n      <b-col class=\"pt-5\">\n        <h3 class=\"pb-3 text-center\">Sign In</h3>\n\n        <b-form  @submit.stop.prevent>\n          <b-form-group label=\"Email address:\">\n            <b-form-input v-model=\"email\" type=\"email\" required />\n          </b-form-group>\n\n          <b-form-group label=\"Password:\">\n            <b-form-input type=\"password\" v-model=\"password\" required/>\n          </b-form-group>\n\n          <b-form-group class=\"text-center\">\n            <b-button variant=\"success\" @click=\"login\">Login</b-button>\n          </b-form-group>\n          <b-form-group class=\"text-center\">\n            <p>Don't have an account ? You can <router-link to=\"/signup\">create one by Github </router-link></p>\n            <b-button class=\"social-button\" @click=\"socialGithubLogin\"><img src=\"/assets/github_logo.png\"></b-button>\n          </b-form-group>\n        </b-form>\n\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\n    import firebase from 'firebase';\n    import {saveUser} from \"@/helpers\";\n\n    import {API_BASE_URL} from \"../config\";\n    export default {\n        name: 'login',\n        data() {\n            return {\n                email: '',\n                password: '',\n                username: ''\n            }\n        },\n        methods: {\n          //Logged in using email id and password\n          login: function () {\n            firebase.auth().signInWithEmailAndPassword(this.email, this.password).then(\n                (user) => {\n                  this.username = user.user.email;\n                  localStorage.setItem(\"username\", this.username);\n                  firebase.auth().currentUser.getIdToken(true).then((idToken) => {\n                    localStorage.setItem(\"idToken\", idToken);\n                    const token = \"Bearer \" + idToken\n                    const url = `${API_BASE_URL}private/saveUser`;\n                    saveUser(url, token);\n                  })\n                  this.$router.replace('/');\n                },\n                (err) => {\n                  alert('Oops. ' + err.message)\n                }\n            );\n          },\n\n          socialGithubLogin() {\n            //Logged in using GitHub\n            const provider = new firebase.auth.GithubAuthProvider();\n\n            firebase.auth().signInWithPopup(provider).then((result) => {\n              console.log(\"result\", result);\n              this.username = firebase.auth().currentUser.displayName;\n              localStorage.setItem(\"username\",this.username);\n              firebase.auth().currentUser.getIdToken(true).then((idToken) => {\n                localStorage.setItem(\"idToken\", idToken);\n                const token = \"Bearer \" + idToken\n                const url = `${API_BASE_URL}private/saveUser`;\n                saveUser(url, token);\n              })\n              this.$router.replace('/');\n            }).catch((err) => {\n              alert('Oops. ' + err.message)\n            })\n          }\n        }\n\n    }\n\n</script>\n\n<style scoped>  /* \"scoped\" attribute limit the CSS to this component only */\n\n.social-button {\n    width: 75px;\n    background: white;\n    padding: 10px;\n    border-radius: 100%;\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,0.2);\n    outline: 0;\n    border: 0;\n}\n.social-button:active {\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1);\n}\n.social-button img {\n    width: 100%;\n}\n</style>\n"],"sourceRoot":"src/views"}]}