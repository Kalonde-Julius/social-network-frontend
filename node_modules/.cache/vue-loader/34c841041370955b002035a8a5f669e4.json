{"remainingRequest":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nmadhab/hobby/social-network-frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nmadhab/hobby/social-network-frontend/src/views/Login.vue","mtime":1616736749826},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7CmltcG9ydCB7c2F2ZVVzZXJ9IGZyb20gIkAvaGVscGVycyI7CgppbXBvcnQge0FQSV9CQVNFX1VSTH0gZnJvbSAiLi4vY29uZmlnIjsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ2xvZ2luJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgIHVzZXJuYW1lOiAnJwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIC8vTG9nZ2VkIGluIHVzaW5nIGVtYWlsIGlkIGFuZCBwYXNzd29yZAogICAgICBsb2dpbjogZnVuY3Rpb24gKCkgewogICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh0aGlzLmVtYWlsLCB0aGlzLnBhc3N3b3JkKS50aGVuKAogICAgICAgICAgICAodXNlcikgPT4gewogICAgICAgICAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyLnVzZXIuZW1haWw7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgdGhpcy51c2VybmFtZSk7CiAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmdldElkVG9rZW4odHJ1ZSkudGhlbigoaWRUb2tlbikgPT4gewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkVG9rZW4iLCBpZFRva2VuKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gIkJlYXJlciAiICsgaWRUb2tlbgogICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7QVBJX0JBU0VfVVJMfXByaXZhdGUvc2F2ZVVzZXJgOwogICAgICAgICAgICAgICAgc2F2ZVVzZXIodXJsLCB0b2tlbik7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnLycpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAoZXJyKSA9PiB7CiAgICAgICAgICAgICAgYWxlcnQoJ09vcHMuICcgKyBlcnIubWVzc2FnZSkKICAgICAgICAgICAgfQogICAgICAgICk7CiAgICAgIH0sCgogICAgICBzb2NpYWxHaXRodWJMb2dpbigpIHsKICAgICAgICAvL0xvZ2dlZCBpbiB1c2luZyBHaXRIdWIKICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdpdGh1YkF1dGhQcm92aWRlcigpOwoKICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQiLCByZXN1bHQpOwogICAgICAgICAgdGhpcy51c2VybmFtZSA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5kaXNwbGF5TmFtZTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VybmFtZSIsdGhpcy51c2VybmFtZSk7CiAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZ2V0SWRUb2tlbih0cnVlKS50aGVuKChpZFRva2VuKSA9PiB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZFRva2VuIiwgaWRUb2tlbik7CiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gIkJlYXJlciAiICsgaWRUb2tlbgogICAgICAgICAgICBjb25zdCB1cmwgPSBgJHtBUElfQkFTRV9VUkx9cHJpdmF0ZS9zYXZlVXNlcmA7CiAgICAgICAgICAgIHNhdmVVc2VyKHVybCwgdG9rZW4pOwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvJyk7CiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgYWxlcnQoJ09vcHMuICcgKyBlcnIubWVzc2FnZSkKICAgICAgICB9KQogICAgICB9CiAgICB9Cgp9Cgo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container>\n    <b-row>\n      <b-col class=\"pt-5\">\n        <h3 class=\"pb-3 text-center\">Sign In</h3>\n\n        <b-form  @submit.stop.prevent>\n          <b-form-group label=\"Email address:\">\n            <b-form-input v-model=\"email\" type=\"email\" required />\n          </b-form-group>\n\n          <b-form-group label=\"Password:\">\n            <b-form-input type=\"password\" v-model=\"password\" required/>\n          </b-form-group>\n\n          <b-form-group class=\"text-center\">\n            <b-button variant=\"success\" @click=\"login\">Login</b-button>\n          </b-form-group>\n          <b-form-group class=\"text-center\">\n            <p>Don't have an account ? You can <router-link to=\"/signup\">create one by Github </router-link></p>\n            <b-button class=\"social-button\" @click=\"socialGithubLogin\"><img src=\"/assets/github_logo.png\"></b-button>\n          </b-form-group>\n        </b-form>\n\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\n    import firebase from 'firebase';\n    import {saveUser} from \"@/helpers\";\n\n    import {API_BASE_URL} from \"../config\";\n    export default {\n        name: 'login',\n        data() {\n            return {\n                email: '',\n                password: '',\n                username: ''\n            }\n        },\n        methods: {\n          //Logged in using email id and password\n          login: function () {\n            firebase.auth().signInWithEmailAndPassword(this.email, this.password).then(\n                (user) => {\n                  this.username = user.user.email;\n                  localStorage.setItem(\"username\", this.username);\n                  firebase.auth().currentUser.getIdToken(true).then((idToken) => {\n                    localStorage.setItem(\"idToken\", idToken);\n                    const token = \"Bearer \" + idToken\n                    const url = `${API_BASE_URL}private/saveUser`;\n                    saveUser(url, token);\n                  })\n                  this.$router.replace('/');\n                },\n                (err) => {\n                  alert('Oops. ' + err.message)\n                }\n            );\n          },\n\n          socialGithubLogin() {\n            //Logged in using GitHub\n            const provider = new firebase.auth.GithubAuthProvider();\n\n            firebase.auth().signInWithPopup(provider).then((result) => {\n              console.log(\"result\", result);\n              this.username = firebase.auth().currentUser.displayName;\n              localStorage.setItem(\"username\",this.username);\n              firebase.auth().currentUser.getIdToken(true).then((idToken) => {\n                localStorage.setItem(\"idToken\", idToken);\n                const token = \"Bearer \" + idToken\n                const url = `${API_BASE_URL}private/saveUser`;\n                saveUser(url, token);\n              })\n              this.$router.replace('/');\n            }).catch((err) => {\n              alert('Oops. ' + err.message)\n            })\n          }\n        }\n\n    }\n\n</script>\n\n<style scoped>  /* \"scoped\" attribute limit the CSS to this component only */\n\n.social-button {\n    width: 75px;\n    background: white;\n    padding: 10px;\n    border-radius: 100%;\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,0.2);\n    outline: 0;\n    border: 0;\n}\n.social-button:active {\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1);\n}\n.social-button img {\n    width: 100%;\n}\n</style>\n"]}]}