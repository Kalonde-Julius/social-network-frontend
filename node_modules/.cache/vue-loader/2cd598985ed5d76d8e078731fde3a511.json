{"remainingRequest":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nmadhab/hobby/social-network-frontend/src/views/ListUsers.vue?vue&type=style&index=0&id=34485240&scoped=true&lang=css&","dependencies":[{"path":"/Users/nmadhab/hobby/social-network-frontend/src/views/ListUsers.vue","mtime":1616736749825},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbWd7CiAgbWF4LXdpZHRoOiA3MHB4OwogIG1heC1oZWlnaHQ6IDcwcHg7Cn0KCg=="},{"version":3,"sources":["ListUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA","file":"ListUsers.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container>\n    <b-row>\n      <b-col class=\"pt-5\">\n        <b-list-group class=\"list-group\">\n          <b-list-group-item class=\"d-flex justify-content-around\" v-for=\"item in users\" v-bind:key=\"item.id\">\n                <div class=\"col-4\" v-if=\"item.name === null\">\n                  {{item.email}}\n                </div>\n                <div class=\"col-4\" v-else>\n                  {{item.name}}\n                </div>\n\n              <div class=\"col-4 text-center\">\n                <img class=\"img\" v-bind:src=\"item.picture\" alt=\"avatar\">\n              </div>\n              <div v-if=\"email !== item.email\" class=\"col-4 text-right\">\n                <button v-if=\"username\" class=\"btn btn-primary pull-right\" @click=\"addfriend(item.id)\">Add Friend</button>\n                <button v-else class=\"btn btn-primary pull-right\" @click=\"goToLogin()\">Add Friend</button>\n              </div>\n\n              <div v-else class=\"col-4 text-right\">\n\n              </div>\n          </b-list-group-item>\n        </b-list-group>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport {API_BASE_URL} from '/src/config.js';\n\nexport default {\n  name: \"listusers\",\n  data() {\n    return {\n      users: [],\n      email: '',\n      username: null\n    }\n  },\n   mounted() {\n    this.getusers();\n    //console.log(firebase.auth().currentUser.email)\n    this.email = firebase.auth().currentUser.email;\n    this.username = localStorage.getItem('username');\n  },\n  methods: {\n    getusers() {\n      const url = `${API_BASE_URL}public/users`;\n      axios.get(url).then(resp => {\n        console.log(resp);\n        if(resp.status === 200){\n          this.users = resp.data;\n        }else {\n          console.log(\"bad request by client\")\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    addfriend(id){\n      axios.get(`${API_BASE_URL}private/addFriend/?friendId=${id}`,{'headers' :{\n          'Authorization': 'Bearer '+localStorage.getItem('idToken'),\n        }}).then(resp => {\n          console.log(resp.data);\n          if(resp.status === 200){\n            alert(\"friend added! \");\n          }\n      }).catch(err => console.log(err))\n    },\n    goToLogin() {\n      this.$router.push('/login');\n    }\n  },\n\n}\n</script>\n\n<style scoped>\n\n.img{\n  max-width: 70px;\n  max-height: 70px;\n}\n\n</style>\n"]}]}