{"remainingRequest":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nmadhab/hobby/social-network-frontend/src/views/ListUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nmadhab/hobby/social-network-frontend/src/views/ListUsers.vue","mtime":1616736749825},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nmadhab/hobby/social-network-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7CmltcG9ydCB7QVBJX0JBU0VfVVJMfSBmcm9tICcvc3JjL2NvbmZpZy5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxpc3R1c2VycyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXSwKICAgICAgZW1haWw6ICcnLAogICAgICB1c2VybmFtZTogbnVsbAogICAgfQogIH0sCiAgIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldHVzZXJzKCk7CiAgICAvL2NvbnNvbGUubG9nKGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbCkKICAgIHRoaXMuZW1haWwgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWw7CiAgICB0aGlzLnVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXR1c2VycygpIHsKICAgICAgY29uc3QgdXJsID0gYCR7QVBJX0JBU0VfVVJMfXB1YmxpYy91c2Vyc2A7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgICAgaWYocmVzcC5zdGF0dXMgPT09IDIwMCl7CiAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzcC5kYXRhOwogICAgICAgIH1lbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJiYWQgcmVxdWVzdCBieSBjbGllbnQiKQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogICAgYWRkZnJpZW5kKGlkKXsKICAgICAgYXhpb3MuZ2V0KGAke0FQSV9CQVNFX1VSTH1wcml2YXRlL2FkZEZyaWVuZC8/ZnJpZW5kSWQ9JHtpZH1gLHsnaGVhZGVycycgOnsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnK2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZFRva2VuJyksCiAgICAgICAgfX0pLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpOwogICAgICAgICAgaWYocmVzcC5zdGF0dXMgPT09IDIwMCl7CiAgICAgICAgICAgIGFsZXJ0KCJmcmllbmQgYWRkZWQhICIpOwogICAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSkKICAgIH0sCiAgICBnb1RvTG9naW4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0KICB9LAoKfQo="},{"version":3,"sources":["ListUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"ListUsers.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container>\n    <b-row>\n      <b-col class=\"pt-5\">\n        <b-list-group class=\"list-group\">\n          <b-list-group-item class=\"d-flex justify-content-around\" v-for=\"item in users\" v-bind:key=\"item.id\">\n                <div class=\"col-4\" v-if=\"item.name === null\">\n                  {{item.email}}\n                </div>\n                <div class=\"col-4\" v-else>\n                  {{item.name}}\n                </div>\n\n              <div class=\"col-4 text-center\">\n                <img class=\"img\" v-bind:src=\"item.picture\" alt=\"avatar\">\n              </div>\n              <div v-if=\"email !== item.email\" class=\"col-4 text-right\">\n                <button v-if=\"username\" class=\"btn btn-primary pull-right\" @click=\"addfriend(item.id)\">Add Friend</button>\n                <button v-else class=\"btn btn-primary pull-right\" @click=\"goToLogin()\">Add Friend</button>\n              </div>\n\n              <div v-else class=\"col-4 text-right\">\n\n              </div>\n          </b-list-group-item>\n        </b-list-group>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport {API_BASE_URL} from '/src/config.js';\n\nexport default {\n  name: \"listusers\",\n  data() {\n    return {\n      users: [],\n      email: '',\n      username: null\n    }\n  },\n   mounted() {\n    this.getusers();\n    //console.log(firebase.auth().currentUser.email)\n    this.email = firebase.auth().currentUser.email;\n    this.username = localStorage.getItem('username');\n  },\n  methods: {\n    getusers() {\n      const url = `${API_BASE_URL}public/users`;\n      axios.get(url).then(resp => {\n        console.log(resp);\n        if(resp.status === 200){\n          this.users = resp.data;\n        }else {\n          console.log(\"bad request by client\")\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    addfriend(id){\n      axios.get(`${API_BASE_URL}private/addFriend/?friendId=${id}`,{'headers' :{\n          'Authorization': 'Bearer '+localStorage.getItem('idToken'),\n        }}).then(resp => {\n          console.log(resp.data);\n          if(resp.status === 200){\n            alert(\"friend added! \");\n          }\n      }).catch(err => console.log(err))\n    },\n    goToLogin() {\n      this.$router.push('/login');\n    }\n  },\n\n}\n</script>\n\n<style scoped>\n\n.img{\n  max-width: 70px;\n  max-height: 70px;\n}\n\n</style>\n"]}]}